<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-background">
    <div class="hero-overlay"></div>
  </div>
  <div class="container hero-content">
    <div class="hero-text">
      <h1 class="hero-title">VestiSen</h1>
      <p class="hero-subtitle">La plateforme de rÃ©fÃ©rence pour acheter et vendre des vÃªtements au SÃ©nÃ©gal</p>
      <p class="hero-description">
        DÃ©couvrez une large sÃ©lection de vÃªtements de qualitÃ©. Vendez facilement vos articles et trouvez les meilleures affaires prÃ¨s de chez vous.
      </p>
      <div class="hero-cta">
        <a routerLink="/catalogue" class="btn btn-primary btn-large">
          ğŸ›ï¸ DÃ©couvrir les annonces
        </a>
        <a routerLink="/vendre" class="btn btn-outline btn-large" *ngIf="authService.isAuthenticated()">
          â• Vendre maintenant
        </a>
        <a routerLink="/register" class="btn btn-outline btn-large" *ngIf="!authService.isAuthenticated()">
          ğŸ“ CrÃ©er un compte
        </a>
      </div>
    </div>
    <div class="hero-stats">
      <div class="stat-item">
        <div class="stat-number">1000+</div>
        <div class="stat-label">Annonces actives</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">500+</div>
        <div class="stat-label">Vendeurs vÃ©rifiÃ©s</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">24/7</div>
        <div class="stat-label">Support disponible</div>
      </div>
    </div>
  </div>
</section>

<!-- Top Annonces Carousel -->
<section class="hero-carousel" *ngIf="topAnnonces.length > 0">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">â­ Annonces en vedette</h2>
      <p class="section-subtitle">DÃ©couvrez nos meilleures offres sÃ©lectionnÃ©es pour vous</p>
    </div>
    <div class="carousel-container">
      <div class="carousel-slide" *ngFor="let annonce of topAnnonces.slice(0, 3); let i = index" 
           [class.active]="i === currentSlide">
        <div class="carousel-image">
          <img [src]="getImageUrl(annonce.images[0])" [alt]="annonce.title" 
               *ngIf="annonce.images.length > 0" loading="lazy">
          <div class="no-image" *ngIf="annonce.images.length === 0">Pas d'image</div>
        </div>
        <div class="carousel-content">
          <span class="badge badge-top">â­ Top Pub</span>
          <h2>{{ annonce.title }}</h2>
          <p class="carousel-description">{{ annonce.description | slice:0:100 }}...</p>
          <p class="carousel-price">{{ annonce.price | number }} FCFA</p>
          <div class="carousel-actions">
            <a [routerLink]="['/produit', annonce.id]" class="btn btn-primary">Voir l'annonce</a>
            <button class="btn btn-outline" (click)="$event.stopPropagation(); contactSeller(annonce.id)">
              ğŸ“ Contacter
            </button>
          </div>
        </div>
      </div>
      <div class="carousel-controls">
        <button (click)="prevSlide()" class="carousel-btn prev">â€¹</button>
        <button (click)="nextSlide()" class="carousel-btn next">â€º</button>
      </div>
      <div class="carousel-dots">
        <span *ngFor="let annonce of topAnnonces.slice(0, 3); let i = index" 
              [class.active]="i === currentSlide"
              (click)="currentSlide = i"></span>
      </div>
    </div>
  </div>
</section>

<!-- Pourquoi VestiSen -->
<section class="why-vestisen">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Pourquoi choisir VestiSen ?</h2>
      <p class="section-subtitle">La plateforme la plus simple et sÃ©curisÃ©e pour vos achats et ventes</p>
    </div>
    <div class="features-grid">
      <div class="feature-card card">
        <div class="feature-icon">ğŸ”’</div>
        <h3>SÃ©curisÃ©</h3>
        <p>Transactions sÃ©curisÃ©es et vendeurs vÃ©rifiÃ©s pour votre tranquillitÃ© d'esprit</p>
      </div>
      <div class="feature-card card">
        <div class="feature-icon">âš¡</div>
        <h3>Rapide</h3>
        <p>Publiez votre annonce en quelques minutes et recevez des contacts rapidement</p>
      </div>
      <div class="feature-card card">
        <div class="feature-icon">ğŸ’°</div>
        <h3>Ã‰conomique</h3>
        <p>Des prix compÃ©titifs et des frais de publication transparents</p>
      </div>
      <div class="feature-card card">
        <div class="feature-icon">ğŸ“</div>
        <h3>Local</h3>
        <p>Trouvez des vendeurs prÃ¨s de chez vous pour faciliter les Ã©changes</p>
      </div>
    </div>
  </div>
</section>

<!-- CatÃ©gories -->
<section class="categories">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Explorez nos catÃ©gories</h2>
      <p class="section-subtitle">Trouvez exactement ce que vous cherchez</p>
    </div>
    <div class="categories-grid">
      <a routerLink="/catalogue" [queryParams]="{category: 'FEMME'}" class="category-card">
        <div class="category-image">
          <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=400" alt="Femmes" loading="lazy">
        </div>
        <div class="category-content">
          <h3>ğŸ‘— Femmes</h3>
          <p>Robes, jupes, tops et plus encore</p>
          <span class="category-link">Voir les annonces â†’</span>
        </div>
      </a>
      <a routerLink="/catalogue" [queryParams]="{category: 'HOMME'}" class="category-card">
        <div class="category-image">
          <img src="https://images.unsplash.com/photo-1617137968427-85924c800a22?w=400" alt="Hommes" loading="lazy">
        </div>
        <div class="category-content">
          <h3>ğŸ‘” Hommes</h3>
          <p>Chemises, pantalons, accessoires</p>
          <span class="category-link">Voir les annonces â†’</span>
        </div>
      </a>
      <a routerLink="/catalogue" [queryParams]="{category: 'ACCESSOIRE'}" class="category-card">
        <div class="category-image">
          <img src="https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400" alt="Accessoires" loading="lazy">
        </div>
        <div class="category-content">
          <h3>ğŸ‘œ Accessoires</h3>
          <p>Sacs, bijoux, chaussures et plus</p>
          <span class="category-link">Voir les annonces â†’</span>
        </div>
      </a>
      <a routerLink="/catalogue" [queryParams]="{category: 'PROMOTION'}" class="category-card">
        <div class="category-image">
          <img src="https://images.unsplash.com/photo-1607082349566-187342175e2f?w=400" alt="Promotions" loading="lazy">
        </div>
        <div class="category-content">
          <h3>ğŸ”¥ Promotions</h3>
          <p>Meilleures offres et bonnes affaires</p>
          <span class="category-link">Voir les annonces â†’</span>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- Comment Ã§a marche -->
<section class="how-it-works">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Comment Ã§a marche ?</h2>
      <p class="section-subtitle">Simple, rapide et efficace en 3 Ã©tapes</p>
    </div>
    <div class="steps-grid">
      <div class="step-card">
        <div class="step-number">1</div>
        <h3>CrÃ©ez votre compte</h3>
        <p>Inscrivez-vous gratuitement en quelques secondes. Choisissez entre compte client ou vendeur.</p>
      </div>
      <div class="step-card">
        <div class="step-number">2</div>
        <h3>Publiez ou recherchez</h3>
        <p>Vendez vos articles ou parcourez les milliers d'annonces disponibles dans votre rÃ©gion.</p>
      </div>
      <div class="step-card">
        <div class="step-number">3</div>
        <h3>Connectez-vous</h3>
        <p>Contactez directement les vendeurs et finalisez vos transactions en toute sÃ©curitÃ©.</p>
      </div>
    </div>
    <div class="cta-section">
      <a routerLink="/register" class="btn btn-primary btn-large" *ngIf="!authService.isAuthenticated()">
        ğŸš€ Commencer maintenant
      </a>
      <a routerLink="/vendre" class="btn btn-primary btn-large" *ngIf="authService.isAuthenticated()">
        â• Publier une annonce
      </a>
    </div>
  </div>
</section>

<!-- Top Annonces Grid -->
<section class="top-annonces" *ngIf="topAnnonces.length > 0">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">âœ¨ Toutes nos annonces vedettes</h2>
      <p class="section-subtitle">Les meilleures offres sÃ©lectionnÃ©es pour vous</p>
    </div>
    <div class="annonces-grid">
      <div *ngFor="let annonce of topAnnonces" class="annonce-card card" [routerLink]="['/produit', annonce.id]">
        <div class="annonce-image">
          <img [src]="getImageUrl(annonce.images[0])" [alt]="annonce.title" 
               *ngIf="annonce.images.length > 0" loading="lazy">
          <div class="no-image" *ngIf="annonce.images.length === 0">Pas d'image</div>
          <span class="badge" [ngClass]="'badge-' + annonce.publicationType.toLowerCase()">
            {{ getPublicationTypeLabel(annonce.publicationType) }}
          </span>
        </div>
        <div class="annonce-content">
          <h3>{{ annonce.title }}</h3>
          <p class="price">{{ annonce.price | number }} FCFA</p>
          <p class="location" *ngIf="annonce.location">ğŸ“ {{ annonce.location }}</p>
          <button class="btn btn-primary btn-sm" (click)="$event.stopPropagation(); contactSeller(annonce.id)">
            ğŸ“ Contacter le vendeur
          </button>
        </div>
      </div>
    </div>
    <div class="section-cta">
        <a routerLink="/catalogue" class="btn btn-outline btn-large">
          Voir toutes les annonces â†’
        </a>
    </div>
  </div>
</section>

<!-- Call to Action Final -->
<section class="final-cta">
  <div class="container">
    <div class="cta-content">
      <h2>PrÃªt Ã  commencer ?</h2>
      <p>Rejoignez des milliers d'utilisateurs qui font confiance Ã  VestiSen pour leurs achats et ventes</p>
      <div class="cta-buttons">
        <a routerLink="/register" class="btn btn-primary btn-large" *ngIf="!authService.isAuthenticated()">
          CrÃ©er mon compte gratuitement
        </a>
        <a routerLink="/vendre" class="btn btn-primary btn-large" *ngIf="authService.isAuthenticated()">
          Publier ma premiÃ¨re annonce
        </a>
        <a routerLink="/catalogue" class="btn btn-outline btn-large">
          Parcourir les annonces
        </a>
      </div>
    </div>
  </div>
</section>
